<% actions = true if actions.nil? %>
<% title = task_list.name if title.nil? %>

<section class="task-list">
    <h1><%= link_to title, task_list %></h1>

    <% if actions %>
        <div class="actions">
            <ul>
                <li>
                    <%= link_to "Completed", task_list_completed_tasks_path(task_list) %>
                </li>
                <li>
                    <%= link_to "Delete", task_list_path(task_list), :method => :delete, :data => {:confirm => "Are you sure?", :disable_with => "Deleting..."} %>
                </li>
                <li>
                    <%= link_to "Edit", edit_task_list_path(task_list) %>
                </li>
                <li>
                    <%= link_to "Add Task",
                                new_task_list_task_path(task_list),
                                :class => "action" %>
                </li>
            </ul>
        </div>
    <% end %>

    <div class="tasks">
        <ul>
            <% tasks.each do |task| %>
                <%= render task, :task_list => task_list %>
            <% end %>
        </ul>
    </div>
</section>